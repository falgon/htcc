<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>C.Parse</title><link href="ocean.css" rel="stylesheet" type="text/css" title="Ocean" /><link rel="stylesheet" type="text/css" href="quick-jump.css" /><script src="haddock-bundle.min.js" async="async" type="text/javascript"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script></head><body><div id="package-header"><ul class="links" id="page-menu"><li><a href="src/C.Parse.html">Source</a></li><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul><p class="caption">htcc-0.0.0.1</p></div><div id="content"><div id="module-header"><table class="info"><tr><th valign="top">Copyright</th><td>(c) roki 2019</td></tr><tr><th>License</th><td>MIT</td></tr><tr><th>Maintainer</th><td>falgon53@yahoo.co.jp</td></tr><tr><th>Stability</th><td>experimental</td></tr><tr><th>Portability</th><td>POSIX</td></tr><tr><th>Safe Haskell</th><td>Safe</td></tr><tr><th>Language</th><td>Haskell2010</td></tr></table><p class="caption">C.Parse</p></div><div id="description"><p class="caption">Description</p><div class="doc empty">&nbsp;</div></div><div id="synopsis"><details id="syn"><summary>Synopsis</summary><ul class="details-toggle" data-details-id="syn"><li class="src short"><span class="keyword">data</span> <a href="#t:ATKind">ATKind</a> a<ul class="subs"><li>= <a href="#v:ATAdd">ATAdd</a></li><li>| <a href="#v:ATSub">ATSub</a></li><li>| <a href="#v:ATMul">ATMul</a></li><li>| <a href="#v:ATDiv">ATDiv</a></li><li>| <a href="#v:ATNum">ATNum</a> a</li></ul></li><li class="src short"><span class="keyword">data</span> <a href="#t:ATree">ATree</a> a<ul class="subs"><li>= <a href="#v:ATEmpty">ATEmpty</a></li><li>| <a href="#v:ATNode">ATNode</a> (<a href="C-Parse.html#t:ATKind" title="C.Parse">ATKind</a> a) (<a href="C-Parse.html#t:ATree" title="C.Parse">ATree</a> a) (<a href="C-Parse.html#t:ATree" title="C.Parse">ATree</a> a)</li></ul></li><li class="src short"><a href="#v:inners">inners</a> :: ([<a href="C-Token.html#t:Token" title="C.Token">Token</a> i] -&gt; <a href="C-Parse.html#t:ATree" title="C.Parse">ATree</a> i -&gt; <a href="../base-4.12.0.0/GHC-Maybe.html#t:Maybe" title="GHC.Maybe">Maybe</a> ([<a href="C-Token.html#t:Token" title="C.Token">Token</a> i], <a href="C-Parse.html#t:ATree" title="C.Parse">ATree</a> i)) -&gt; [(<a href="../base-4.12.0.0/Data-Char.html#t:Char" title="Data.Char">Char</a>, <a href="C-Parse.html#t:ATKind" title="C.Parse">ATKind</a> i)] -&gt; [<a href="C-Token.html#t:Token" title="C.Token">Token</a> i] -&gt; <a href="C-Parse.html#t:ATree" title="C.Parse">ATree</a> i -&gt; <a href="../base-4.12.0.0/GHC-Maybe.html#t:Maybe" title="GHC.Maybe">Maybe</a> ([<a href="C-Token.html#t:Token" title="C.Token">Token</a> i], <a href="C-Parse.html#t:ATree" title="C.Parse">ATree</a> i)</li><li class="src short"><a href="#v:expr">expr</a> :: [<a href="C-Token.html#t:Token" title="C.Token">Token</a> i] -&gt; <a href="C-Parse.html#t:ATree" title="C.Parse">ATree</a> i -&gt; <a href="../base-4.12.0.0/GHC-Maybe.html#t:Maybe" title="GHC.Maybe">Maybe</a> ([<a href="C-Token.html#t:Token" title="C.Token">Token</a> i], <a href="C-Parse.html#t:ATree" title="C.Parse">ATree</a> i)</li><li class="src short"><a href="#v:factor">factor</a> :: [<a href="C-Token.html#t:Token" title="C.Token">Token</a> i] -&gt; <a href="C-Parse.html#t:ATree" title="C.Parse">ATree</a> i -&gt; <a href="../base-4.12.0.0/GHC-Maybe.html#t:Maybe" title="GHC.Maybe">Maybe</a> ([<a href="C-Token.html#t:Token" title="C.Token">Token</a> i], <a href="C-Parse.html#t:ATree" title="C.Parse">ATree</a> i)</li><li class="src short"><a href="#v:term">term</a> :: [<a href="C-Token.html#t:Token" title="C.Token">Token</a> i] -&gt; <a href="C-Parse.html#t:ATree" title="C.Parse">ATree</a> i -&gt; <a href="../base-4.12.0.0/GHC-Maybe.html#t:Maybe" title="GHC.Maybe">Maybe</a> ([<a href="C-Token.html#t:Token" title="C.Token">Token</a> i], <a href="C-Parse.html#t:ATree" title="C.Parse">ATree</a> i)</li><li class="src short"><a href="#v:parse">parse</a> :: [<a href="C-Token.html#t:Token" title="C.Token">Token</a> i] -&gt; <a href="../base-4.12.0.0/GHC-Maybe.html#t:Maybe" title="GHC.Maybe">Maybe</a> (<a href="C-Parse.html#t:ATree" title="C.Parse">ATree</a> i)</li></ul></details></div><div id="interface"><h1>Documentation</h1><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:ATKind" class="def">ATKind</a> a <a href="src/C.Parse.html#ATKind" class="link">Source</a> <a href="#t:ATKind" class="selflink">#</a></p><div class="doc"><p>Syntax tree type</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:ATAdd" class="def">ATAdd</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a id="v:ATSub" class="def">ATSub</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a id="v:ATMul" class="def">ATMul</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a id="v:ATDiv" class="def">ATDiv</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a id="v:ATNum" class="def">ATNum</a> a</td><td class="doc empty">&nbsp;</td></tr></table></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:ATree" class="def">ATree</a> a <a href="src/C.Parse.html#ATree" class="link">Source</a> <a href="#t:ATree" class="selflink">#</a></p><div class="doc"><p>Abstract syntax tree</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:ATEmpty" class="def">ATEmpty</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a id="v:ATNode" class="def">ATNode</a> (<a href="C-Parse.html#t:ATKind" title="C.Parse">ATKind</a> a) (<a href="C-Parse.html#t:ATree" title="C.Parse">ATree</a> a) (<a href="C-Parse.html#t:ATree" title="C.Parse">ATree</a> a)</td><td class="doc empty">&nbsp;</td></tr></table></div></div><div class="top"><p class="src"><a id="v:inners" class="def">inners</a> :: ([<a href="C-Token.html#t:Token" title="C.Token">Token</a> i] -&gt; <a href="C-Parse.html#t:ATree" title="C.Parse">ATree</a> i -&gt; <a href="../base-4.12.0.0/GHC-Maybe.html#t:Maybe" title="GHC.Maybe">Maybe</a> ([<a href="C-Token.html#t:Token" title="C.Token">Token</a> i], <a href="C-Parse.html#t:ATree" title="C.Parse">ATree</a> i)) -&gt; [(<a href="../base-4.12.0.0/Data-Char.html#t:Char" title="Data.Char">Char</a>, <a href="C-Parse.html#t:ATKind" title="C.Parse">ATKind</a> i)] -&gt; [<a href="C-Token.html#t:Token" title="C.Token">Token</a> i] -&gt; <a href="C-Parse.html#t:ATree" title="C.Parse">ATree</a> i -&gt; <a href="../base-4.12.0.0/GHC-Maybe.html#t:Maybe" title="GHC.Maybe">Maybe</a> ([<a href="C-Token.html#t:Token" title="C.Token">Token</a> i], <a href="C-Parse.html#t:ATree" title="C.Parse">ATree</a> i) <a href="src/C.Parse.html#inners" class="link">Source</a> <a href="#v:inners" class="selflink">#</a></p><div class="doc"><p><code><a href="C-Parse.html#v:inners" title="C.Parse">inners</a></code> is a general function for creating expr and factor in the following syntax (EBNF) of LL (1).</p><p>\[
 \begin{eqnarray}
 {\rm expr} &amp;=&amp; {\rm term}\ (&quot;+&quot;\ {\rm term}\ \mid\ &quot;-&quot;\ {\rm term})^\ast \\
 {\rm term} &amp;=&amp; {\rm factor}\ (&quot;\ast&quot;\ {\rm factor}\ \mid\ &quot;/&quot;\ {\rm factor})^\ast \\
 {\rm factor} &amp;=&amp; {\rm num} \mid\ &quot;(&quot; {\rm expr} &quot;)&quot;
 \end{eqnarray}
 \]</p></div></div><div class="top"><p class="src"><a id="v:expr" class="def">expr</a> :: [<a href="C-Token.html#t:Token" title="C.Token">Token</a> i] -&gt; <a href="C-Parse.html#t:ATree" title="C.Parse">ATree</a> i -&gt; <a href="../base-4.12.0.0/GHC-Maybe.html#t:Maybe" title="GHC.Maybe">Maybe</a> ([<a href="C-Token.html#t:Token" title="C.Token">Token</a> i], <a href="C-Parse.html#t:ATree" title="C.Parse">ATree</a> i) <a href="src/C.Parse.html#expr" class="link">Source</a> <a href="#v:expr" class="selflink">#</a></p><div class="doc"><p><code><a href="C-Parse.html#v:expr" title="C.Parse">expr</a></code> indicates \({\rm expr} = {\rm term}\ (&quot;+&quot;\ {\rm term}\ \mid\ &quot;-&quot;\ {\rm term})^\ast\) among the comments of <code><a href="C-Parse.html#v:inners" title="C.Parse">inners</a></code>.
 This is equivalent to the following code:</p><pre>expr ::  [Token i] -&gt; ATree i -&gt; Maybe ([Token i], ATree i)
expr xs atn = flip (maybe Nothing) (factor xs atn) $ \(ert, erat) -&gt; expr' ert erat
    where
        expr' (TKReserved '+':ys) era = maybe Nothing (\(zrt, zrat) -&gt; expr' zrt $ ATNode ATAdd era zrat) $ factor ys era
        expr' (TKReserved '-':ys) era = maybe Nothing (\(zrt, zrat) -&gt; expr' zrt $ ATNode ATSub era zrat) $ factor ys era
        expr' ert era = Just (ert, era)</pre></div></div><div class="top"><p class="src"><a id="v:factor" class="def">factor</a> :: [<a href="C-Token.html#t:Token" title="C.Token">Token</a> i] -&gt; <a href="C-Parse.html#t:ATree" title="C.Parse">ATree</a> i -&gt; <a href="../base-4.12.0.0/GHC-Maybe.html#t:Maybe" title="GHC.Maybe">Maybe</a> ([<a href="C-Token.html#t:Token" title="C.Token">Token</a> i], <a href="C-Parse.html#t:ATree" title="C.Parse">ATree</a> i) <a href="src/C.Parse.html#factor" class="link">Source</a> <a href="#v:factor" class="selflink">#</a></p><div class="doc"><p><code><a href="C-Parse.html#v:factor" title="C.Parse">factor</a></code> indicates \({\rm factor} = {\rm num} \mid\ &quot;(&quot; {\rm expr} &quot;)&quot;\) amount the comments of <code><a href="C-Parse.html#v:inners" title="C.Parse">inners</a></code>.</p></div></div><div class="top"><p class="src"><a id="v:term" class="def">term</a> :: [<a href="C-Token.html#t:Token" title="C.Token">Token</a> i] -&gt; <a href="C-Parse.html#t:ATree" title="C.Parse">ATree</a> i -&gt; <a href="../base-4.12.0.0/GHC-Maybe.html#t:Maybe" title="GHC.Maybe">Maybe</a> ([<a href="C-Token.html#t:Token" title="C.Token">Token</a> i], <a href="C-Parse.html#t:ATree" title="C.Parse">ATree</a> i) <a href="src/C.Parse.html#term" class="link">Source</a> <a href="#v:term" class="selflink">#</a></p><div class="doc"><p><code><a href="C-Parse.html#v:term" title="C.Parse">term</a></code> indicates \({\rm term} = {\rm factor}\ (&quot;\ast&quot;\ {\rm factor}\ \mid\ &quot;/&quot;\ {\rm factor})^\ast\) amont the comments of <code><a href="C-Parse.html#v:inners" title="C.Parse">inners</a></code>.
 Same as <code><a href="C-Parse.html#v:expr" title="C.Parse">expr</a></code>.</p></div></div><div class="top"><p class="src"><a id="v:parse" class="def">parse</a> :: [<a href="C-Token.html#t:Token" title="C.Token">Token</a> i] -&gt; <a href="../base-4.12.0.0/GHC-Maybe.html#t:Maybe" title="GHC.Maybe">Maybe</a> (<a href="C-Parse.html#t:ATree" title="C.Parse">ATree</a> i) <a href="src/C.Parse.html#parse" class="link">Source</a> <a href="#v:parse" class="selflink">#</a></p><div class="doc"><p>Constructs the abstract syntax tree based on the list of token strings.
 if construction fails, <code><a href="../base-4.12.0.0/GHC-Maybe.html#v:Nothing" title="GHC.Maybe">Nothing</a></code> is returned.</p></div></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.22.0</p></div></body></html>